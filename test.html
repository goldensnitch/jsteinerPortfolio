<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Jordan Steiner</title>
        <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,700" rel="stylesheet">
        <script src="https://use.fontawesome.com/eb7e2d2a83.js"></script>
        <link rel="stylesheet" type="text/css" href="css/normalize.css" />
        <link rel="stylesheet" type="text/css" href="css/select-css.css" />
        <link rel="stylesheet" type="text/css" href="css/demo.css" />
        <link rel="stylesheet" type="text/css" href="css/component.css" />
        <script src="js/jquery.min.js"></script>
        <script src="js/parallax.min.js"></script>
        <script src="js/modernizr-custom.js"></script>
    </head>
    <body>
        <main class="container">
            <div class="pages">
                <div class="page__content--main page page--current" id="difference-content" style="padding: 0; position: fixed; visibility: visible; background: #FC4349; overflow-y: scroll;"><!-- content page -->
                    <div class="block section group">
                        <div class="col span_8_of_12"> 
                            <div class="page__content--main-body">
                                <h1>Difference.<br>Changing the world through passive donations</h1>
                                <div class="pater__arrow">
                                    <i class="fa fa-arrow-circle-left" onclick="" aria-hidden="true"></i>
                                </div>
                                <div class="page__content--main-summary">
                                    <div class="section group">
                                        <div class="page__content--main-skills">
                                            <div class="col span_4_of_12">
                                                <p>+ UX/UI Designs</p>
                                                <p>+ Mockups</p>
                                                <p>+ User Testing</p>
                                            </div>
                                        </div>
                                        <div class="page__content--main-caption">
                                            <div class="col span_7_of_12">
                                                <p>A semester long project to design an application that rounds up user purchases to the nearest dollar and donates the difference to charities of their choice.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col span_4_of_12">
                            <div class="page__cover">
                                <img src="img/difference_cover.png" />
                            </div>
                        </div>
                    </div>
                    <div class="page__content-one">
                        <div class="section group">
                            <div class="col span_3_of_12">
                            </div>
                            <div class="col span_6_of_12">
                                <div class="content__paragraph">
                                    <h1>Make giving easy</h1>
                                    <p>Everyone has some organization whose mission they support. While donating $50-100 at one time can often be tough to stomach, people hardly notice when they toss a dime or quarter in the jar. With Difference we took this concept and ran with it, the idea being that we could aggregate these small deltas in user purchases over a month and allocate the sum to a pre-selected group of organizations they supported.</p>
                                </div>
                            </div>
                            <div class="col span_3_of_12">
                            </div>
                        </div>
                    </div>
                    <div class="page__content-one">
                        <div class="section group">
                            <div class="col span_2_of_12"></div>
                            <div class="col span_8_of_12">
                                <p class="demo-gif"><img src="img/difference_login.gif" /></p>
                            </div>
                            <div class="col span_2_of_12"></div>
                        </div>
                    </div>
                    <div class="page__content-one">
                        <div class="section group">
                            <div class="col span_3_of_12">
                            </div>
                            <div class="col span_6_of_12">
                                <div class="content__paragraph">
                                    <h1>User-centric design</h1>
                                    <p>We designed the application with goal of maximizing a user's inclination to keep up with their donations. In our research we observed that users of similar apps felt most engaged when there was a social component. After running through multiple mockups and extensive user testing, we ended up with our final UI.</p>
                                </div>
                            </div>
                            <div class="col span_3_of_12">
                            </div>
                        </div>
                    </div>
                    <div class="page__content-one">
                        <div class="section group">
                            <div class="col span_2_of_12"></div>
                            <div class="col span_8_of_12">
                                <p class="demo-gif"><img src="img/difference_demo.gif" /></p>
                            </div>
                            <div class="col span_2_of_12"></div>
                        </div>
                    </div>
                </div>
            </div><!-- /pages -->
        </main>
        <script src="js/classie.js"></script>
        <script src="js/main.js"></script>
        <script>
        (function() {
            var colorReveal = {
                "rgb(252, 67, 73)" : "#b9252a",
                 "rgb(124, 0, 158)" : "#7c009e",
                 "rgb(29, 106, 232)" : "#164fad"
            };

            var contentPages = [].slice.call(document.querySelectorAll('.page__content'));
            console.log(contentPages);
            var pages = [].slice.call(document.querySelectorAll('.pages > .page')),
                currentPage = 0,
                content = true,
                revealerOpts = {
                    // the layers are the elements that move from the sides
                    nmbLayers : 3,
                    // bg color of each layer
                    bgcolor : ['#0092DD', '#fff', '#3E3A35'],
                    // effect classname
                    effect : 'anim--effect-4',
                    onStart : function(direction) {
                        // next page gets class page--animate-[direction]
                        var nextPage;
                        if (direction == 'right') {
                            content = true;
                            nextPage = contentPages[getPageChange(direction)];
                            nextPage.className = 'page__content page';
                            classie.add(nextPage, 'page--animate-' + direction);
                            nextPage.style["position"] = "fixed";
                            nextPage.style["padding"] = 0;
                        }
                        else if (direction == 'left'){
                            content = false;
                            nextPage = pages[currentPage];
                            classie.add(nextPage, 'page--animate-' + direction);
                        } else {
                            nextPage = pages[getPageChange(direction)];
                            classie.add(nextPage, 'page--animate-' + direction);
                        }
                    },
                    onEnd : function(direction) {
                        // remove class page--animate-[direction] from next page
                        var nextPage;
                        if (direction == 'right') {
                            nextPage = contentPages[getPageChange(direction)];
                            nextPage.className = 'page__content page page--current';
                        } else if (direction == 'left'){
                            nextPage = pages[currentPage];
                            nextPage.className = 'page page--current';
                        } else {
                            nextPage = pages[getPageChange(direction)];
                            nextPage.className = 'page';
                        }
                        
                    }
                };
                // revealer = new Revealer(revealerOpts);
            
            $(window).on('wheel', function(e) {
                if (!content) {
                    var delta = e.originalEvent.deltaY;

                    if (delta >= 10) reveal('bottom');
                    else if (delta <= -10) reveal('top');

                    return false; // this line is only added so the whole page won't scroll in the demo
                }
            });

            document.onkeydown = function(e) {
                switch (e.keyCode) {
                    case 38:
                        reveal('bottom');
                        break;
                    case 40:
                        reveal('top');
                        break;
                }
            };

            function openContent(dir) {
                reveal(dir);
            }

            [].forEach.call(document.getElementsByClassName('fa-arrow-circle-left'),
                function(a, idx) {
                    a.addEventListener('click', function() { openContent('right'); });
                }
            );

            [].forEach.call(document.getElementsByClassName('fa-arrow-circle-left'),
                function(a, idx) {
                    a.addEventListener('click', function() { openContent('left'); });
                }
            );

            function getPageChange(direction) {
                if (direction == 'top' && currentPage != pages.length -1) {
                    return currentPage + 1;
                }
                else if (direction == 'bottom' && currentPage != 0) {
                    return currentPage - 1;
                }
                else if (direction == 'right' && currentPage != 0) {
                    return currentPage - 1;
                }
                else {
                    return (currentPage == 0) ? pages.length - 1 : 0;
                }
            }

            function reveal(direction) {
                var callbackTime = 750,
                    callbackFn = function() {
                        if (direction == 'right') {
                            classie.remove(pages[currentPage], 'page--current');
                            classie.add(contentPages[currentPage - 1], 'page--current');    
                        } else if (direction == 'left') {
                            classie.remove(contentPages[currentPage - 1], 'page');
                            classie.remove(contentPages[currentPage - 1], 'page--current');
                            contentPages[currentPage - 1].style["position"] = "relative";
                            classie.add(pages[currentPage], 'page--current');   
                        } else {
                            classie.remove(pages[currentPage], 'page--current');
                            currentPage = getPageChange(direction);

                            classie.add(pages[currentPage], 'page--current');   
                        }
                    };

                revealer.reveal(direction, callbackTime, callbackFn);
            }

        })();

        function getColor(id, pos) {
            return (pos <= colorScroll[id].length - 1) ? 
                        colorScroll[id][pos] :
                        colorScroll[id][colorScroll[id].length - 1];
        }

        var colorScroll =
        {
            "difference-content": ["#FC4349", "#2C3E50", "#6DBCDB", "#466387"]
        }
        $(function() {
           $('.page--current').scroll(function () {
              let pos = $(this).scrollTop();
              let id = $(this)[0].id;
              console.log(pos);
              if (pos <= 500) {
                    $(this)[0].style['background'] = getColor(id, 0);
              }
              else if (pos > 500 && pos <= 1300) {
                    $(this)[0].style['background'] = getColor(id, 1);
              }
              else if (pos > 1300 && pos <= 2200) {
                    $(this)[0].style['background'] = getColor(id, 2);
              }
              else {
                    $(this)[0].style['background'] = getColor(id, 3);
              }
           });
        });
        </script>
    </body>
</html>
